本章利用第二章基于rdd的模型处理也许是最让人吃惊的领域-大规模流式处理。虽然最终的设计和传统的流式数据处理系统不一样，但是它提供了丰富的故障恢复能力以及强大的和其他处理类型相兼容的能力。

大规模流式处理的动机很简单：大量的“大数据”在某一时间被接收，并且这些被接收的数据在到达的那刻价值最大。例如，一个社交网络可能希望探测几分钟之内的热门话题；一个搜索网站可能建模哪个用户
访问一个新的页；一个服务操作者可能希望监控程序日志，用于探测几秒内发生的错误。为了使用这些应用，有必要将流式处理模型扩展大更大的集群上面。

然而设计这样一个模型具有挑战性，因为对于可以扩展到几百个节点的更大的应用（如实时日志处理或者机器学习），扩展是必要的。在这样的扩展中，错误和掉队(stragglers)是一个重要问题【36】,一般
情况下，流式应用需要快速恢复。事实上，快速恢复在流式处理任务中比在批处理任务中更重要，在批处理设置中，一个30秒的延迟从错误或stragglers中恢复是非常令人讨厌的；而在流式处理中，30可能意味着
我们失去了做一个关键决策的机会。

不幸的是，现存的流式处理系统在容错方面存在限制。大部分的分布式流式系统，包括storm【14】,TimeStream【87】,MapReduce Online【34】以及流式数据库【18,26,29】都是基于连续的操作模型。这个模型长时间
运行，有状态的操作程序接收每条记录，更新记录的内部状态，然后发送新的记录。虽然这个模型设计很自然，但是它很难处理容错。

特别的，给定连续操作模型（continuous operator model），系统通过两种方式完成恢复：复制（每个节点有两份数据【18,93】）或向上回退（节点缓存发送的消息，然后重新发送它们到失败的节点【87，34,14】），
在大集群中，这两种方法都不吸引人。复制会花费两倍的硬盘空间；回退会花费很长的时间去恢复，因为整个系统必须等待一个新的节点有序的重建错误节点的状态，重新运行数据。另外，这两种方法都不处理stragglers
数据，在向上回退系统中，将stragglers视为失败，这会造成昂贵的恢复过程发生；在复制系统中，它们利用同步协议（如Flux【93】）去协调复制数据，所以stragglers在两份复制中会变慢。

